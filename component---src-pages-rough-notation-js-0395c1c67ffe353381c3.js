"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[683],{4794:function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,{annotate:function(){return M},annotationGroup:function(){return x}});var i=n(5785);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o="http://www.w3.org/2000/svg",h=function(){function t(t){this.seed=t}return t.prototype.next=function(){return this.seed?(Math.pow(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/Math.pow(2,31):Math.random()},t}();function u(t,e,n,r,i){return{type:"path",ops:p(t,e,n,r,i)}}function c(t,e,n){var r=(t||[]).length;if(r>2){for(var s=[],a=0;a<r-1;a++)s.push.apply(s,(0,i.Z)(p(t[a][0],t[a][1],t[a+1][0],t[a+1][1],n)));return e&&s.push.apply(s,(0,i.Z)(p(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n))),{type:"path",ops:s}}return 2===r?u(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function f(t,e,n,r,i){return function(t,e){return c(t,!0,e)}([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function v(t,e,n,r,i){return function(t,e,n,r){var i=w(r.increment,t,e,r.rx,r.ry,1,r.increment*d(.1,d(.4,1,n),n),n),s=i[0],a=i[1],o=m(s,null,n);if(!n.disableMultiStroke){var h=m(w(r.increment,t,e,r.rx,r.ry,1.5,0,n)[0],null,n);o=o.concat(h)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}(t,e,i,function(t,e,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r),s=2*Math.PI/i,a=Math.abs(t/2),o=Math.abs(e/2),h=1-n.curveFitting;return{increment:s,rx:a+=g(a*h,n),ry:o+=g(o*h,n)}}(n,r,i)).opset}function l(t){return t.randomizer||(t.randomizer=new h(t.seed||0)),t.randomizer.next()}function d(t,e,n,r){return void 0===r&&(r=1),n.roughness*r*(l(n)*(e-t)+t)}function g(t,e,n){return void 0===n&&(n=1),d(-t,t,e,n)}function p(t,e,n,r,i,s){void 0===s&&(s=!1);var a=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=_(t,e,n,r,i,!0,!1);if(a)return o;var h=_(t,e,n,r,i,!0,!0);return o.concat(h)}function _(t,e,n,r,i,s,a){var o,h=Math.pow(t-n,2)+Math.pow(e-r,2),u=Math.sqrt(h);o=u<200?1:u>500?.4:-.0016668*u+1.233334;var c=i.maxRandomnessOffset||0;c*c*100>h&&(c=u/10);var f=c/2,v=.2+.2*l(i),d=i.bowing*i.maxRandomnessOffset*(r-e)/200,p=i.bowing*i.maxRandomnessOffset*(t-n)/200;d=g(d,i,o),p=g(p,i,o);var _=[],m=function(){return g(f,i,o)},w=function(){return g(c,i,o)};return s&&(a?_.push({op:"move",data:[t+m(),e+m()]}):_.push({op:"move",data:[t+g(c,i,o),e+g(c,i,o)]})),a?_.push({op:"bcurveTo",data:[d+t+(n-t)*v+m(),p+e+(r-e)*v+m(),d+t+2*(n-t)*v+m(),p+e+2*(r-e)*v+m(),n+m(),r+m()]}):_.push({op:"bcurveTo",data:[d+t+(n-t)*v+w(),p+e+(r-e)*v+w(),d+t+2*(n-t)*v+w(),p+e+2*(r-e)*v+w(),n+w(),r+w()]}),_}function m(t,e,n){var r=t.length,s=[];if(r>3){var a=[],o=1-n.curveTightness;s.push({op:"move",data:[t[1][0],t[1][1]]});for(var h=1;h+2<r;h++){var u=t[h];a[0]=[u[0],u[1]],a[1]=[u[0]+(o*t[h+1][0]-o*t[h-1][0])/6,u[1]+(o*t[h+1][1]-o*t[h-1][1])/6],a[2]=[t[h+1][0]+(o*t[h][0]-o*t[h+2][0])/6,t[h+1][1]+(o*t[h][1]-o*t[h+2][1])/6],a[3]=[t[h+1][0],t[h+1][1]],s.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(e&&2===e.length){var c=n.maxRandomnessOffset;s.push({op:"lineTo",data:[e[0]+g(c,n),e[1]+g(c,n)]})}}else 3===r?(s.push({op:"move",data:[t[1][0],t[1][1]]}),s.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===r&&s.push.apply(s,(0,i.Z)(p(t[0][0],t[0][1],t[1][0],t[1][1],n)));return s}function w(t,e,n,r,i,s,a,o){var h=[],u=[],c=g(.5,o)-Math.PI/2;u.push([g(s,o)+e+.9*r*Math.cos(c-t),g(s,o)+n+.9*i*Math.sin(c-t)]);for(var f=c;f<2*Math.PI+c-.01;f+=t){var v=[g(s,o)+e+r*Math.cos(f),g(s,o)+n+i*Math.sin(f)];h.push(v),u.push(v)}return u.push([g(s,o)+e+r*Math.cos(c+2*Math.PI+.5*a),g(s,o)+n+i*Math.sin(c+2*Math.PI+.5*a)]),u.push([g(s,o)+e+.98*r*Math.cos(c+a),g(s,o)+n+.98*i*Math.sin(c+a)]),u.push([g(s,o)+e+.9*r*Math.cos(c+.5*a),g(s,o)+n+.9*i*Math.sin(c+.5*a)]),[u,h]}function y(t,e){return{maxRandomnessOffset:2,roughness:"highlight"===t?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,combineNestedSvgPaths:!1,disableMultiStroke:"double"!==t,disableMultiStrokeFill:!1,seed:e}}function b(t,e,n,r,a,h){var l=[],d=n.strokeWidth||2,g=function(t){var e=t.padding;if(e||0===e){if("number"==typeof e)return[e,e,e,e];if(Array.isArray(e)){var n=e;if(n.length)switch(n.length){case 4:return(0,i.Z)(n);case 1:return[n[0],n[0],n[0],n[0]];case 2:return[].concat((0,i.Z)(n),(0,i.Z)(n));case 3:return[].concat((0,i.Z)(n),[n[1]]);default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}(n),p=void 0===n.animate||!!n.animate,_=n.iterations||2,m=n.rtl?1:0,w=y("single",h);switch(n.type){case"underline":for(var b=e.y+e.h+g[2],k=m;k<_+m;k++)k%2?l.push(u(e.x+e.w,b,e.x,b,w)):l.push(u(e.x,b,e.x+e.w,b,w));break;case"strike-through":for(var M=e.y+e.h/2,x=m;x<_+m;x++)x%2?l.push(u(e.x+e.w,M,e.x,M,w)):l.push(u(e.x,M,e.x+e.w,M,w));break;case"box":for(var S=e.x-g[3],z=e.y-g[0],C=e.w+(g[1]+g[3]),R=e.h+(g[0]+g[2]),O=0;O<_;O++)l.push(f(S,z,C,R,w));break;case"bracket":for(var A,L=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],E=e.x-2*g[3],T=e.x+e.w+2*g[1],D=e.y-2*g[0],P=e.y+e.h+2*g[2],I=s(L);!(A=I()).done;){var Z=void 0;switch(A.value){case"bottom":Z=[[E,e.y+e.h],[E,P],[T,P],[T,e.y+e.h]];break;case"top":Z=[[E,e.y],[E,D],[T,D],[T,e.y]];break;case"left":Z=[[e.x,D],[E,D],[E,P],[e.x,P]];break;case"right":Z=[[e.x+e.w,D],[T,D],[T,P],[e.x+e.w,P]]}Z&&l.push(c(Z,!1,w))}break;case"crossed-off":for(var N=e.x,W=e.y,j=N+e.w,q=W+e.h,F=m;F<_+m;F++)F%2?l.push(u(j,q,N,W,w)):l.push(u(N,W,j,q,w));for(var J=m;J<_+m;J++)J%2?l.push(u(N,q,j,W,w)):l.push(u(j,W,N,q,w));break;case"circle":for(var G=y("double",h),B=e.w+(g[1]+g[3]),U=e.h+(g[0]+g[2]),$=e.x-g[3]+B/2,H=e.y-g[0]+U/2,K=Math.floor(_/2),Q=_-2*K,V=0;V<K;V++)l.push(v($,H,B,U,G));for(var X=0;X<Q;X++)l.push(v($,H,B,U,w));break;case"highlight":var Y=y("highlight",h);d=.95*e.h;for(var tt=e.y+e.h/2,et=m;et<_+m;et++)et%2?l.push(u(e.x+e.w,tt,e.x,tt,Y)):l.push(u(e.x,tt,e.x+e.w,tt,Y))}if(l.length){for(var nt,rt=function(t){for(var e,n=[],r=s(t);!(e=r()).done;){for(var i,a="",o=s(e.value.ops);!(i=o()).done;){var h=i.value,u=h.data;switch(h.op){case"move":a.trim()&&n.push(a.trim()),a="M"+u[0]+" "+u[1]+" ";break;case"bcurveTo":a+="C"+u[0]+" "+u[1]+", "+u[2]+" "+u[3]+", "+u[4]+" "+u[5]+" ";break;case"lineTo":a+="L"+u[0]+" "+u[1]+" "}}a.trim()&&n.push(a.trim())}return n}(l),it=[],st=[],at=0,ot=function(t,e,n){return t.setAttribute(e,n)},ht=s(rt);!(nt=ht()).done;){var ut=nt.value,ct=document.createElementNS(o,"path");if(ot(ct,"d",ut),ot(ct,"fill","none"),ot(ct,"stroke",n.color||"currentColor"),ot(ct,"stroke-width",""+d),p){var ft=ct.getTotalLength();it.push(ft),at+=ft}t.appendChild(ct),st.push(ct)}if(p)for(var vt=0,lt=0;lt<st.length;lt++){var dt=st[lt],gt=it[lt],pt=at?a*(gt/at):0,_t=r+vt,mt=dt.style;mt.strokeDashoffset=""+gt,mt.strokeDasharray=""+gt,mt.animation="rough-notation-dash "+pt+"ms ease-out "+_t+"ms forwards",vt+=pt}}}var k=function(){function t(t,e){var n=this;this._state="unattached",this._resizing=!1,this._seed=Math.floor(Math.random()*Math.pow(2,31)),this._lastSizes=[],this._animationDelay=0,this._resizeListener=function(){n._resizing||(n._resizing=!0,setTimeout((function(){n._resizing=!1,"showing"===n._state&&n.haveRectsChanged()&&n.show()}),400))},this._e=t,this._config=JSON.parse(JSON.stringify(e)),this.attach()}var e,n,i,a=t.prototype;return a.attach=function(){if("unattached"===this._state&&this._e.parentElement){!function(){if(!window.__rno_kf_s){var t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}();var t=this._svg=document.createElementNS(o,"svg");t.setAttribute("class","rough-annotation");var e=t.style;e.position="absolute",e.top="0",e.left="0",e.overflow="visible",e.pointerEvents="none",e.width="100px",e.height="100px";var n="highlight"===this._config.type;if(this._e.insertAdjacentElement(n?"beforebegin":"afterend",t),this._state="not-showing",n){var r=window.getComputedStyle(this._e).position;(!r||"static"===r)&&(this._e.style.position="relative")}this.attachListeners()}},a.detachListeners=function(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)},a.attachListeners=function(){var t=this;this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver((function(e){for(var n,r=s(e);!(n=r()).done;){n.value.contentRect&&t._resizeListener()}}))),this._ro&&this._ro.observe(this._e)},a.haveRectsChanged=function(){if(this._lastSizes.length){var t=this.rects();if(t.length!==this._lastSizes.length)return!0;for(var e=0;e<t.length;e++)if(!this.isSameRect(t[e],this._lastSizes[e]))return!0}return!1},a.isSameRect=function(t,e){var n=function(t,e){return Math.round(t)===Math.round(e)};return n(t.x,e.x)&&n(t.y,e.y)&&n(t.w,e.w)&&n(t.h,e.h)},a.isShowing=function(){return"not-showing"!==this._state},a.refresh=function(){var t=this;this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then((function(){t.isShowing()&&t.show(),delete t.pendingRefresh})))},a.show=function(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&this.render(this._svg,!1)}},a.hide=function(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"},a.remove=function(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()},a.render=function(t,e){var n=this._config;e&&((n=JSON.parse(JSON.stringify(this._config))).animate=!1);var r=this.rects(),i=0;r.forEach((function(t){return i+=t.w}));for(var s=n.animationDuration||800,a=0,o=0;o<r.length;o++){var h=s*(r[o].w/i);b(t,r[o],n,a+this._animationDelay,h,this._seed),a+=h}this._lastSizes=r,this._state="showing"},a.rects=function(){var t=[];if(this._svg)if(this._config.multiline)for(var e=this._e.getClientRects(),n=0;n<e.length;n++)t.push(this.svgRect(this._svg,e[n]));else t.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return t},a.svgRect=function(t,e){var n=t.getBoundingClientRect(),r=e;return{x:(r.x||r.left)-(n.x||n.left),y:(r.y||r.top)-(n.y||n.top),w:r.width,h:r.height}},e=t,n=[{key:"animate",get:function(){return this._config.animate},set:function(t){this._config.animate=t}},{key:"animationDuration",get:function(){return this._config.animationDuration},set:function(t){this._config.animationDuration=t}},{key:"iterations",get:function(){return this._config.iterations},set:function(t){this._config.iterations=t}},{key:"color",get:function(){return this._config.color},set:function(t){this._config.color!==t&&(this._config.color=t,this.refresh())}},{key:"strokeWidth",get:function(){return this._config.strokeWidth},set:function(t){this._config.strokeWidth!==t&&(this._config.strokeWidth=t,this.refresh())}},{key:"padding",get:function(){return this._config.padding},set:function(t){this._config.padding!==t&&(this._config.padding=t,this.refresh())}}],n&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function M(t,e){return new k(t,e)}function x(t){for(var e,n=0,r=s(t);!(e=r()).done;){var a=e.value;a._animationDelay=n,n+=0===a.animationDuration?0:a.animationDuration||800}var o=(0,i.Z)(t);return{show:function(){for(var t,e=s(o);!(t=e()).done;){t.value.show()}},hide:function(){for(var t,e=s(o);!(t=e()).done;){t.value.hide()}}}}}}]);
//# sourceMappingURL=component---src-pages-rough-notation-js-0395c1c67ffe353381c3.js.map